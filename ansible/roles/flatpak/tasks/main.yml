---
- name: install flatpak (linux)
  apt:
    name:
      - flatpak
    state: present
  when: is_debian_distro

- name: add flathub repository (linux)
  flatpak_remote:
    name: flathub
    state: present
    flatpakrepo_url: https://dl.flathub.org/repo/flathub.flatpakrepo
    method: user
  when: is_debian_distro

- name: install discord (linux)
  become: true
  become_user: "{{ host_user }}"
  flatpak:
    name: com.discordapp.Discord
    method: user
    state: present
  when: is_debian_distro and has_extra_software

- name: install firefox (linux)
  become: true
  become_user: "{{ host_user }}"
  flatpak:
    name: org.mozilla.firefox
    method: user
    state: present
  when: is_debian_distro and has_extra_software

- name: install obsidian (linux)
  become: true
  become_user: "{{ host_user }}"
  flatpak:
    name: md.obsidian.Obsidian
    method: user
    state: present
  when: is_debian_distro and has_extra_software

- name: install postman (linux)
  become: true
  become_user: "{{ host_user }}"
  flatpak:
    name: com.getpostman.Postman
    method: user
    state: present
  when: is_debian_distro and has_extra_software

- name: install slack (linux)
  become: true
  become_user: "{{ host_user }}"
  flatpak:
    name: com.slack.Slack
    method: user
    state: present
  when: is_debian_distro and has_extra_software

- name: install spotify (linux)
  become: true
  become_user: "{{ host_user }}"
  flatpak:
    name: com.spotify.Client
    method: user
    state: present
  when: is_debian_distro and has_extra_software

- name: install obs (linux)
  become: true
  become_user: "{{ host_user }}"
  flatpak:
    name: com.obsproject.Studio
    method: user
    state: present
  when: is_debian_distro and has_extra_software

- name: install bitwarden (linux)
  become: true
  become_user: "{{ host_user }}"
  flatpak:
    name: com.bitwarden.desktop
    method: user
    state: present
  when: is_debian_distro and has_extra_software
...
